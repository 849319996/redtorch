(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{j7ow:function(e,t,i){"use strict";var a=i("TqRt"),n=i("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("g9YV");var r,o,l=a(i("wCAj")),d=a(i("MVZn")),c=a(i("lwsE")),u=a(i("W8MJ")),s=a(i("a1gu")),f=a(i("Nsbk")),m=a(i("7W2i")),p=n(i("q1tI")),y=i("MuoO"),h=a(i("xNx2")),v=i("P9HM"),E=i("uI15"),g={display:"inline-block",float:"left",color:"#AAA"},b=(r=(0,y.connect)(function(e){var t=e.operation;return{operation:t}}),r(o=function(e){function t(){var e,i;(0,c.default)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return i=(0,s.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),i.handleDblClick=function(e){var t=i.props.dispatch,a={symbol:e.symbol,exchange:e.exchange,gatewayID:e.gatewayID};t({type:"operation/subscribe",payload:a})},i.handleClick=function(e){var t=i.props.updateTradeForm;null!==t&&void 0!==t&&t({symbol:e.symbol})},i}return(0,m.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e,t,i=this,a=this.props,n=a.list,r=a.pagination,o=a.scroll,c=a.bordered;e=void 0!==r&&r,t=void 0===c||c;var u=[];void 0!==n&&n.sort(E.sortBySymbol).forEach(function(e){var t=e;t.priceDiff=e.positionProfit/e.contractSize/e.position,t.lastPrice=e.price+t.priceDiff,t.direction===v.DIRECTION_LONG||t.position>0&&t.direction===v.DIRECTION_NET?(t.lastPrice=t.price+t.priceDiff,t.openPriceDiff=t.lastPrice-e.openPrice,t.openProfit=t.openPriceDiff*e.position*e.contractSize):(t.direction===v.DIRECTION_SHORT||t.position<0&&t.direction===v.DIRECTION_NET)&&(t.lastPrice=t.price-t.priceDiff,t.openPriceDiff=e.openPrice-t.lastPrice,t.openProfit=t.openPriceDiff*e.position*e.contractSize),t.contractValue=(t.openPrice+t.openPriceDiff)*e.contractSize*e.position,0!==e.useMargin?(t.positionProfitRatio=t.positionProfit/e.useMargin,t.openProfitRatio=t.openProfit/e.useMargin):(t.positionProfitRatio=0,t.openProfitRatio=0),t.tdFrozen=e.frozen-e.ydFrozen,t.tdPosition=e.position-e.ydPosition,u.push(t)});var s={y:250,x:1460};void 0!==o&&(s=(0,d.default)({},s,o));var f=new Set,m=new Set;u.forEach(function(e){f.add(e.rtSymbol),m.add("".concat(e.gatewayDisplayName,"(").concat(e.gatewayID,")?"))});var y=[];Array.from(f).forEach(function(e){y.push({text:e,value:e})});var b=[];Array.from(m).forEach(function(e){b.push({text:e,value:e})});var P=[{title:"\u4ea7\u54c1",dataIndex:"rtSymbol",width:150,key:"rtSymbol",sorter:function(e,t){return e.rtSymbol>t.rtSymbol},filters:y,onFilter:function(e,t){return t.rtSymbol===e},render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.cursorPointer)},p.default.createElement("div",{style:{minWidth:60},className:"".concat(h.default.colorYellow)},t.rtSymbol),p.default.createElement("div",{style:{minWidth:60}},t.contractName))}},{title:"\u8d26\u6237",dataIndex:"gatewayDisplayName",width:180,filters:b,onFilter:function(e,t){return"".concat(t.gatewayDisplayName,"(").concat(t.gatewayID,")?")===e},render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.displayRight)},p.default.createElement("div",{style:{minWidth:60}},t.accountID),p.default.createElement("div",{style:{color:"#BBB",minWidth:60}},t.gatewayDisplayName))}},{title:"\u65b9\u5411",dataIndex:"direction",width:60,render:function(e,t){return v.DIRECTION_LONG===t.direction?p.default.createElement("span",{className:"".concat(h.default.colorBuy," ").concat(h.default.displayCenter)},v.DIRECTION_TRANSLATER.get(t.direction)):v.DIRECTION_SHORT===t.direction?p.default.createElement("span",{className:"".concat(h.default.colorSell," ").concat(h.default.displayCenter)},v.DIRECTION_TRANSLATER.get(t.direction)):p.default.createElement("span",{style:"".concat(h.default.displayCenter)},v.DIRECTION_TRANSLATER.get(t.direction))}},{title:"\u6301\u4ed3",dataIndex:"position",width:120,align:"right",render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.displayRight," ").concat(h.default.colorCount)},p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u6301\u4ed3\uff1a"),t.position),p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u51bb\u7ed3\uff1a"),t.frozen))}},{title:"\u4eca\u4ed3",dataIndex:"tdPosition",width:120,align:"right",render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.displayRight," ").concat(h.default.colorCount)},p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u6301\u4ed3\uff1a"),t.tdPosition),p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u51bb\u7ed3\uff1a"),t.tdFrozen))}},{title:"\u5747\u4ef7",dataIndex:"price",width:150,align:"right",render:function(e,t){return p.default.createElement("div",{className:" ".concat(h.default.displayRight)},p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u6301\u4ed3\uff1a"),(0,E.numberFormat)(t.price,4)),p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u5f00\u4ed3\uff1a"),(0,E.numberFormat)(t.openPrice,4)))}},{title:"\u76c8\u5229\u4ef7\u5dee",dataIndex:"priceDiff",width:120,align:"right",render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.displayRight)},p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u6301\u4ed3\uff1a"),(0,E.numberFormat)(t.priceDiff,4)),p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u5f00\u4ed3\uff1a"),(0,E.numberFormat)(t.openPriceDiff,4)))}},{title:"\u9010\u7b14\u6d6e\u76c8",dataIndex:"openProfit",width:120,align:"right",render:function(e,t){return t.openProfit>0?p.default.createElement("div",{className:"".concat(h.default.displayRight," ").concat(h.default.colorBuy)},p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(t.openProfit,4)),p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(100*t.openProfitRatio,2),"%")):t.openProfit<0?p.default.createElement("div",{className:"".concat(h.default.displayRight," ").concat(h.default.colorSell)},p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(t.openProfit,4)),p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(100*t.openProfitRatio,2),"%")):p.default.createElement("div",{className:"".concat(h.default.displayRight)},p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(t.openProfit,4)),p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(100*t.openProfitRatio,2),"%"))}},{title:"\u76ef\u5e02\u6d6e\u76c8",dataIndex:"positionProfit",width:120,align:"right",render:function(e,t){return t.positionProfit>0?p.default.createElement("div",{className:"".concat(h.default.displayRight," ").concat(h.default.colorBuy)},p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(t.positionProfit,4)),p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(100*t.positionProfitRatio,2),"%")):t.positionProfit<0?p.default.createElement("div",{className:"".concat(h.default.displayRight," ").concat(h.default.colorSell)},p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(t.positionProfit,4)),p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(100*t.positionProfitRatio,2),"%")):p.default.createElement("div",{className:"".concat(h.default.displayRight)},p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(t.positionProfit,4)),p.default.createElement("div",{style:{minWidth:60}},(0,E.numberFormat)(100*t.positionProfitRatio,2),"%"))}},{title:"\u4fdd\u8bc1\u91d1",dataIndex:"margin",width:150,align:"right",render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.displayRight)},p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u7ecf\u6d4e\u5546\uff1a"),(0,E.numberFormat)(t.useMargin,2)),p.default.createElement("div",{style:{minWidth:60}},p.default.createElement("span",{style:g},"\u4ea4\u6613\u6240\uff1a"),(0,E.numberFormat)(t.exchangeMargin,2)))}},{title:"\u5408\u7ea6\u4ef7\u503c",dataIndex:"contractValue",width:150,align:"right",render:function(e,t){return p.default.createElement("div",{className:"".concat(h.default.displayRight)},(0,E.numberFormat)(t.contractValue,2))}}];return p.default.createElement(l.default,{onRow:function(e){return{onDoubleClick:function(){return i.handleDblClick(e)},onClick:function(){return i.handleClick(e)}}},rowKey:"rtPositionID",size:"small",columns:P,dataSource:u,pagination:e,scroll:s,bordered:t})}}]),t}(p.PureComponent))||o),P=b;t.default=P},jtBG:function(e,t,i){"use strict";var a=i("TqRt"),n=i("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,l=a(i("lwsE")),d=a(i("W8MJ")),c=a(i("a1gu")),u=a(i("Nsbk")),s=a(i("7W2i")),f=n(i("q1tI")),m=i("MuoO"),p=a(i("j7ow")),y=(r=(0,m.connect)(function(e){var t=e.position,i=e.tick,a=e.basicTradeForm;return{position:t,tick:i,basicTradeForm:a}}),r(o=function(e){function t(e){var i;return(0,l.default)(this,t),i=(0,c.default)(this,(0,u.default)(t).call(this,e)),i.onWindowResize=function(){i.setState({tableHeight:(window.innerHeight-320>520?window.innerHeight-320:520)||520})},i.componentDidMount=function(){var e=i.props.dispatch;e({type:"position/fetchPositions",payload:{}}),window.addEventListener("resize",i.onWindowResize)},i.componentWillUnmount=function(){window.removeEventListener("resize",i.onWindowResize)},i.updateTradeForm=function(e){var t=e.symbol,a=i.props,n=a.basicTradeForm,r=a.dispatch,o=a.tick;r({type:"basicTradeForm/update",payload:{fuzzySymbol:t}}),null!=n.form&&void 0!==n.form&&n.form.setFieldsValue({fuzzySymbol:t}),r({type:"basicTradeForm/updateTick",payload:o.ticks})},i.state={tableHeight:(window.innerHeight-320>520?window.innerHeight-320:520)||520},i}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.position,t=this.state.tableHeight;return f.default.createElement(p.default,{updateTradeForm:this.updateTradeForm,scroll:{y:t},pagination:{pageSize:50},list:e.positions})}}]),t}(f.PureComponent))||o),h=y;t.default=h}}]);